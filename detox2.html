<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸº ì•Œì½”ì˜¬ í•´ë… ì‹œê°„ ê³„ì‚°ê¸° â€” ë¦¬ë””ìì¸</title>
  <meta name="description" content="ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ë””ìì¸ì˜ ì•Œì½”ì˜¬ í•´ë… ì‹œê°„ ê³„ì‚°ê¸° â€” ì…ë ¥í•˜ë©´ ì˜ˆìƒ í•´ë…ì‹œê°„ê³¼ ì™„ë£Œ ì‹œê°ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”." />
  
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />

  <style>
    /* ===== Reset & ê¸°ë³¸ ===== */
    :root{
      --bg: #F7F9FB;
      --card: #FFFFFF;
      --primary: #5989F7; /* PRIMARY COLOR ë³€ê²½ */
      --accent: #27AE60;
      --danger: #E74C3C;
      --muted: #6B7280;
      --border: #E6EEF6;
      --radius: 14px;
      --shadow: 0 6px 20px rgba(16,24,40,0.06);
      font-family: Pretendard, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", "Helvetica Neue", Arial; /* í°íŠ¸ ë³€ê²½ */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: linear-gradient(180deg,var(--bg), #F4F7FB);
      color:#16202A;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center;
      padding:28px 18px;
      font-size:16px;
      line-height:1.4;
    }

    /* ===== ì»¨í…Œì´ë„ˆ ===== */
    .app {
      width:100%;
      max-width:520px;
    }

    header {
      text-align:center;
      margin-bottom:18px;
    }
    .title {
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      font-weight:700;
      color:var(--primary);
      font-size:1.6rem;
    }
    .subtitle {
      color:var(--muted);
      font-size:0.95rem;
      margin-top:6px;
    }

    /* ===== ì¹´ë“œ ìŠ¤íƒ€ì¼ ===== */
    .card {
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      margin-bottom:14px;
      border:1px solid var(--border);
    }
    .card + .card { margin-top:10px; }

    .section-title {
      font-size:0.98rem;
      font-weight:600;
      margin-bottom:10px;
      color:#243447;
    }

    /* ===== í¼ ê·¸ë¦¬ë“œ ===== */
    .row {
      display:flex;
      gap:10px;
    }
    .col { flex:1; }

    label.small {
      display:block;
      font-size:0.85rem;
      color:var(--muted);
      margin-bottom:6px;
    }

    input[type="number"], select, .input-text {
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid #E6EEF6;
      background:#FBFDFF;
      font-size:1rem;
      color:#102027;
      outline:none;
      transition:box-shadow .15s ease, border-color .15s ease;
    }
    input[type="number"]:focus, select:focus, .input-text:focus{
      box-shadow:0 6px 18px rgba(89,137,247,0.12); /* PRIMARY ê¸°ë°˜ ê·¸ë¦¼ì */
      border-color:var(--primary);
    }

    /* ë¼ë””ì˜¤ ê·¸ë£¹ */
    .radio-group {
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .radio-input { display:none; }
    .radio-label {
      flex:1;
      text-align:center;
      padding:10px 8px;
      border-radius:10px;
      border:2px solid #E6EEF6;
      cursor:pointer;
      user-select:none;
      font-weight:600;
      color:#334155;
      background:var(--card); /* í”Œë«: ê·¸ë¼ë°ì´ì…˜ ì œê±° */
    }
    .radio-input:checked + .radio-label{
      background:var(--primary); /* í”Œë«: ê·¸ë¼ë°ì´ì…˜ ì œê±° */
      color:white;
      border-color:var(--primary);
      box-shadow:none; /* í”Œë«: ê·¸ë¦¼ì ì œê±° */
    }

    /* ì„­ì·¨ëŸ‰ ì»¨íŠ¸ë¡¤ */
    .volume {
      display:flex;
      gap:10px;
      align-items:center;
    }
    .volume .unit-select { width:45%; min-width:110px; }
    .volume .qty { flex:1; }

    .ml-display {
      text-align:right;
      font-size:0.95rem;
      color:var(--muted);
      margin-top:6px;
    }

    /* ë²„íŠ¼ */
    .btn {
      display:inline-block;
      width:100%;
      border:0;
      padding:14px;
      border-radius:12px;
      font-weight:700;
      font-size:1.05rem;
      cursor:pointer;
      background:var(--primary); /* í”Œë«: ê·¸ë¼ë°ì´ì…˜ ì œê±° */
      color:white;
      box-shadow:none; /* í”Œë«: ê·¸ë¦¼ì ì œê±° */
    }
    .btn:active{ transform:translateY(1px) }

    /* ê²°ê³¼ ì¹´ë“œ */
    .result {
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .result .big {
      text-align:center;
      font-size:1.5rem;
      font-weight:800;
      color:var(--accent);
    }
    .result .sub {
      text-align:center;
      color:#1B3B4D;
      font-weight:600;
    }
    .result .meta {
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color:#4B5860;
      font-size:0.95rem;
      margin-top:6px;
    }
    .result .meta div { min-width:140px; }

    /* ê²½ê³  ë°•ìŠ¤ */
    .disclaimer {
      background:#FFF4F4;
      border-left:6px solid var(--danger);
      padding:12px;
      border-radius:8px;
      color:#6B2630;
      font-size:0.92rem;
      line-height:1.45;
    }

    /* ì‘ì€ ê°•ì¡° í…ìŠ¤íŠ¸ */
    .muted-note { font-size:0.88rem; color:var(--muted) }

    /* ë°˜ì‘í˜•: ëª¨ë°”ì¼ ìš°ì„ ì´ë¯€ë¡œ ë°ìŠ¤í¬íƒ‘ì€ ë„‰ë„‰ */
    @media(min-width:720px){
      body{padding:36px}
      .app { max-width:600px;}
      .title { font-size:1.9rem; }
      .result .big { font-size:1.8rem; }
    }

    /* ê°„ë‹¨í•œ íŠ¸ëœì§€ì…˜ */
    .fade-in { animation:fadeIn .28s ease both; }
    @keyframes fadeIn { from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }
  </style>
</head>
<body>
  <main class="app" role="main" aria-labelledby="app-title">
    <header>
      <div class="title" id="app-title">ğŸº ì•Œì½”ì˜¬ í•´ë… ê³„ì‚°ê¸°</div>
      <div class="subtitle">ì…ë ¥í•œ ì •ë³´ë¡œ ì˜ˆìƒ í•´ë… ì‹œê°„ê³¼ ì™„ë£Œ ì‹œê°ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤. (ì°¸ê³ ìš©)</div>
    </header>

    <section class="card" aria-label="ì…ë ¥ ì„¹ì…˜">
  <div class="section-title">ê¸°ë³¸ ì •ë³´</div>

  <div style="margin-bottom:12px;">
    <label class="small">ì„±ë³„</label>
    <div class="radio-group" role="radiogroup" aria-label="ì„±ë³„ ì„ íƒ">
      <input class="radio-input" type="radio" id="gender-male" name="gender" value="male" checked>
      <label class="radio-label" for="gender-male">ğŸ§‘ ë‚¨ì„±</label>

      <input class="radio-input" type="radio" id="gender-female" name="gender" value="female">
      <label class="radio-label" for="gender-female">ğŸ‘© ì—¬ì„±</label>
    </div>
  </div>

  <div style="margin-top:6px">
    <label class="small" for="weight">ì²´ì¤‘ (kg)</label>
    <input id="weight" type="number" inputmode="decimal" step="0.1" min="20" max="300" placeholder="ì˜ˆ: 70.5" aria-describedby="weightHelp" />
    <div id="weightHelp" class="muted-note">ì •í™•í• ìˆ˜ë¡ ê³„ì‚° ê²°ê³¼ê°€ ë” í˜„ì‹¤ì ì…ë‹ˆë‹¤.</div>
  </div>
</section>


    <section class="card" aria-label="ì£¼ì¢… ë° ë„ìˆ˜">
      <div class="section-title">ì£¼ì¢… & ë„ìˆ˜</div>

      <div style="margin-bottom:10px;">
        <label class="small">ì£¼ì¢… ì„ íƒ</label>
        <div class="radio-group" id="drinkTypeGroup" role="radiogroup" aria-label="ì£¼ì¢… ì„ íƒ">
          <input class="radio-input" type="radio" id="drink-soju" name="drinkType" value="soju" checked>
          <label class="radio-label" for="drink-soju">ì†Œì£¼</label>

          <input class="radio-input" type="radio" id="drink-beer" name="drinkType" value="beer">
          <label class="radio-label" for="drink-beer">ë§¥ì£¼</label>

          <input class="radio-input" type="radio" id="drink-wine" name="drinkType" value="wine">
          <label class="radio-label" for="drink-wine">ì™€ì¸</label>

          <input class="radio-input" type="radio" id="drink-whiskey" name="drinkType" value="whiskey">
          <label class="radio-label" for="drink-whiskey">ìœ„ìŠ¤í‚¤</label>

          <input class="radio-input" type="radio" id="drink-custom" name="drinkType" value="custom">
          <label class="radio-label" for="drink-custom">ê¸°íƒ€</label>
        </div>
      </div>

      <div>
        <label class="small" for="alcoholContent">ë„ìˆ˜ (%)</label>
        <input id="alcoholContent" class="input-text" type="number" step="0.1" min="0" placeholder="ìë™ ì…ë ¥ ë˜ëŠ” ì§ì ‘ ì…ë ¥" />
      </div>
    </section>

    <section class="card" aria-label="ì„­ì·¨ëŸ‰">
      <div class="section-title">ì„­ì·¨ëŸ‰</div>

      <div class="volume">
        <div class="qty">
          <label class="small" for="unitVolume">ìˆ˜ëŸ‰</label>
          <input id="unitVolume" type="number" step="1" min="0" placeholder="ìˆ˜ëŸ‰ ë˜ëŠ” ì´ mL ì…ë ¥" />
        </div>

        <div class="unit-select">
          <label class="small" for="unitType">ë‹¨ìœ„</label>
          <select id="unitType" aria-label="ë‹¨ìœ„ ì„ íƒ"></select>
        </div>
      </div>

      <div class="ml-display" aria-live="polite">ì´ í™˜ì‚°ëŸ‰: <strong id="displayML">0</strong> mL</div>

      <div style="margin-top:12px" class="muted-note">ì˜ˆ: ë§¥ì£¼ ìº”(500mL) 1ê°œ â†’ 500 mL</div>
    </section>

    <button id="calculateBtn" class="btn" type="button" aria-pressed="false">ì¸¡ì •í•˜ê¸°</button>

    <section id="resultArea" class="card fade-in" style="margin-top:14px" aria-live="polite">
      <div id="resultInitial" class="result">
        <div class="section-title">ê²°ê³¼</div>
        <div class="muted-note">ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  'ì¸¡ì •í•˜ê¸°' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>
      </div>

      <div id="resultOutput" style="display:none"></div>
    </section>

    <section style="margin-top:10px">
      <div class="disclaimer">
        <strong>âš ï¸ ì£¼ì˜</strong>
        ë³¸ ê³„ì‚°ê¸°ëŠ” ì´ë¡ ì ì¸ ì¶”ì •ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ê°œì¸ì˜ ì‹ ì²´ ìƒíƒœ, ë³µìš© ì•½ë¬¼, ê°„ ê¸°ëŠ¥, ìœ ì „ì  ì°¨ì´ ë“±ì— ë”°ë¼ ì‹¤ì œ í•´ë… ì‹œê°„ì€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì ˆëŒ€ ë²•ì  íŒë‹¨ì´ë‚˜ ìš´ì „ ì—¬ë¶€ì˜ ê·¼ê±°ë¡œ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.
      </div>
    </section>
  </main>

  <script>
    /***********************
     * ìƒìˆ˜ ë° ë°ì´í„°
     ***********************/
    const ALCOHOL_SPECIFIC_GRAVITY = 0.7894; // g/mL
    const ABSORPTION_RATE = 0.7;             // ì²´ë‚´ í¡ìˆ˜ìœ¨(ì¶”ì •)
    const BETA = 0.015;                      // ì‹œê°„ë‹¹ í˜ˆì¤‘ ì•Œì½”ì˜¬ ì œê±°ìœ¨ (g/dL per hour) -> í¼ì„¼íŠ¸ ë‹¨ìœ„ë¡œ ì“°ë ¤ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©

    const DRINK_DATA = {
      soju: {
        degree: 16.5,
        units: {'ì”':50,'ë³‘':360,'mL':1}
      },
      beer: {
        degree: 5.0,
        units: {'ìº”(500mL)':500,'ìº”(350mL)':350,'ë³‘(500mL)':500,'ë³‘(330mL)':330,'ì”(500mL)':500,'ì”(350mL)':350,'mL':1}
      },
      wine: {
        degree: 13.0,
        units: {'ì”':125,'ë³‘':750,'mL':1}
      },
      whiskey: {
        degree: 40.0,
        units: {'ìƒ·':30,'ë³‘':750,'mL':1}
      },
      custom: {
        degree: 0,
        units: {'mL':1}
      }
    };

    // DOM
    const unitTypeSelect = document.getElementById('unitType');
    const alcoholContentInput = document.getElementById('alcoholContent');
    const unitVolumeInput = document.getElementById('unitVolume');
    const displayML = document.getElementById('displayML');
    const calculateBtn = document.getElementById('calculateBtn');
    const resultOutput = document.getElementById('resultOutput');
    const resultInitial = document.getElementById('resultInitial');

    // ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', initUI);

    function initUI(){
      // set default drink UI
      updateUI('soju');

      // listen drink type changes
      document.querySelectorAll('input[name="drinkType"]').forEach(r => {
        r.addEventListener('change', (e) => updateUI(e.target.value));
      });

      // listen inputs
      unitVolumeInput.addEventListener('input', updateConvertedVolume);
      unitTypeSelect.addEventListener('change', () => {
        updateConvertedVolume();
        updateUnitPlaceholder();
      });
      alcoholContentInput.addEventListener('input', () => {
        // ì‚¬ìš©ìê°€ ë„ìˆ˜ë¥¼ ì§ì ‘ ë°”ê¿€ ë•ŒëŠ” ë°”ë¡œ ë°˜ì˜
        // (ì¶”ê°€ ë™ì‘ ì—†ìŒ)
      });

      calculateBtn.addEventListener('click', calculateDetoxTime);
    }

    // UI ì—…ë°ì´íŠ¸: ë‹¨ìœ„ ì˜µì…˜ ì±„ìš°ê¸°, ë„ìˆ˜ ìë™ ë°˜ì˜
    function updateUI(selectedDrink){
      const info = DRINK_DATA[selectedDrink] || DRINK_DATA.custom;

      // ë„ìˆ˜ ìë™ ì±„ìš°ê¸° (ì‚¬ìš©ì ìˆ˜ì • ê°€ëŠ¥)
      if(selectedDrink === 'custom'){
        alcoholContentInput.value = '';
        alcoholContentInput.placeholder = 'ë„ìˆ˜ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 12.5)';
      } else {
        // only set if empty or different (to avoid clobbering manual edits)
        if(!alcoholContentInput.value || alcoholContentInput.value === '' || Number(alcoholContentInput.value) === 0){
          alcoholContentInput.value = info.degree;
        } else {
          // if user previously had value, we keep it â€” but if the value is default different, still update for clarity
          alcoholContentInput.value = info.degree;
        }
      }

      // ë‹¨ìœ„ ì˜µì…˜ ì±„ìš°ê¸°
      unitTypeSelect.innerHTML = '';
      Object.keys(info.units).forEach(unit => {
        const opt = document.createElement('option');
        opt.value = unit;
        opt.textContent = unit;
        unitTypeSelect.appendChild(opt);
      });

      updateUnitPlaceholder();
      updateConvertedVolume();
    }

    function updateUnitPlaceholder(){
      const unit = unitTypeSelect.value;
      if(unit === 'mL'){
        unitVolumeInput.placeholder = 'ì´ ìš©ëŸ‰ (mL) ì…ë ¥';
      } else {
        unitVolumeInput.placeholder = 'ìˆ˜ëŸ‰ ì…ë ¥ (ì˜ˆ: 2)';
      }
    }

    // ì´ mL í™˜ì‚°
    function updateConvertedVolume(){
      const selectedDrink = document.querySelector('input[name="drinkType"]:checked').value;
      const info = DRINK_DATA[selectedDrink] || DRINK_DATA.custom;

      const unit = unitTypeSelect.value;
      const qty = parseFloat(unitVolumeInput.value);
      if(isNaN(qty) || qty <= 0){
        displayML.textContent = '0';
        return;
      }
      const unitML = info.units[unit] || 0;
      const totalML = qty * unitML;
      displayML.textContent = Math.round(totalML);
    }

    // ë‚ ì§œ í¬ë§· í—¬í¼
    function formatKoreanDatetime(date){
      const year = date.getFullYear();
      const month = date.getMonth() + 1;
      const day = date.getDate();
      let hour = date.getHours();
      const minute = date.getMinutes();

      const ampm = hour >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „';
      hour = hour % 12;
      hour = hour ? hour : 12;
      const minuteStr = minute < 10 ? '0' + minute : minute;

      return `${year}ë…„ ${month}ì›” ${day}ì¼ ${ampm} ${hour}ì‹œ ${minuteStr}ë¶„`;
    }

    // ê³„ì‚° í•µì‹¬
    function calculateDetoxTime(){
      // ì…ë ¥ê°’ ìˆ˜ì§‘
      const gender = document.querySelector('input[name="gender"]:checked').value;
      const P = parseFloat(document.getElementById('weight').value); // kg
      const alcoholContent = parseFloat(alcoholContentInput.value); // %
      const unitVolume = parseFloat(unitVolumeInput.value);
      const selectedDrink = document.querySelector('input[name="drinkType"]:checked').value;
      const unit = unitTypeSelect.value;
      const info = DRINK_DATA[selectedDrink] || DRINK_DATA.custom;
      const unitML = info.units[unit] || 0;
      const totalVolumeML = (isNaN(unitVolume) || unitVolume <= 0) ? 0 : unitVolume * unitML;

      // ìœ íš¨ì„± ê²€ì‚¬
      if(isNaN(P) || P <= 0){
        showError("ì²´ì¤‘ì„ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš” (kg).");
        return;
      }
      if(isNaN(alcoholContent) || alcoholContent < 0){
        showError("ë„ìˆ˜ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš” (%).");
        return;
      }
      if(totalVolumeML <= 0){
        showError("ì„­ì·¨ëŸ‰ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        return;
      }

      // Widmark R (ì„±ë³„)
      const R = (gender === 'male') ? 0.86 : 0.64;

      // A = totalVolumeML * (alcoholContent/100) * specific gravity * absorptionRate (grams)
      // ìˆœìˆ˜ ì•Œì½”ì˜¬ ê·¸ë¨ ìˆ˜ ê³„ì‚°
      const pureAlcoholGrams = totalVolumeML * (alcoholContent / 100) * ALCOHOL_SPECIFIC_GRAVITY * ABSORPTION_RATE;

      // C0 (% blood alcohol) = A / (P * R * 10)
      const C0 = pureAlcoholGrams / (P * R * 10); // í¼ì„¼íŠ¸(%), ì˜ˆ: 0.08 => 0.08%

      // ë§Œì•½ ì•„ì£¼ ì‘ìœ¼ë©´ 0 ì²˜ë¦¬
      if(C0 < 0.0001){
        showSmallResult("ì„­ì·¨ëŸ‰ì´ ë§¤ìš° ì ì–´ í˜ˆì¤‘ ì•Œì½”ì˜¬ ë†ë„ ì¶”ì •ì¹˜ê°€ ê±°ì˜ 0%ì…ë‹ˆë‹¤.");
        return;
      }

      // í•´ë… ì‹œê°„ (ì‹œê°„) = C0 / BETA
      const T_hours = C0 / BETA; // ì‹œê°„ ë‹¨ìœ„
      // ì •ìˆ˜ì‹œê°„Â·ë¶„ìœ¼ë¡œ í¬ë§·
      const hoursPart = Math.floor(T_hours);
      const minutesPart = Math.round((T_hours - hoursPart) * 60);

      // ì™„ë£Œ ì˜ˆìƒ ì‹œê°
      const now = new Date();
      const completionMs = now.getTime() + T_hours * 3600 * 1000;
      const completionTime = new Date(completionMs);

      // ê²°ê³¼ ë Œë”ë§
      renderResult({
        now,
        completionTime,
        T_hours,
        hoursPart,
        minutesPart,
        pureAlcoholGrams,
        C0
      });
    }

    // ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
    function renderResult({now, completionTime, T_hours, hoursPart, minutesPart, pureAlcoholGrams, C0}){
      resultInitial.style.display = 'none';
      resultOutput.style.display = 'block';
      resultOutput.innerHTML = `
        <div class="section-title">â³ í•´ë… ì‹œê°„ ì¶”ì • ê²°ê³¼</div>

        <div class="result">
          <div class="big">${hoursPart}ì‹œê°„ ${minutesPart}ë¶„</div>
          <div class="sub">í•´ë… ì™„ë£Œ ì˜ˆìƒ ì‹œê°: ${formatKoreanDatetime(completionTime)}</div>

          <div class="meta" style="margin-top:10px;">
            <div><strong>ì¸¡ì • ì‹œì‘</strong><div style="color:#4B5860">${formatKoreanDatetime(now)}</div></div>
            <div><strong>ìˆœìˆ˜ ì•Œì½”ì˜¬</strong><div style="color:#4B5860">${pureAlcoholGrams.toFixed(1)} g</div></div>
            <div><strong>ìµœëŒ€ BAC(ì¶”ì •)</strong><div style="color:#4B5860">${(C0).toFixed(4)}%</div></div>
          </div>

          <div style="margin-top:10px;">
            ${getDangerNoteHTML(C0)}
          </div>
        </div>
      `;
      // ìŠ¤í¬ë¡¤ ì‹œ ê²°ê³¼ ë³´ì´ê²Œ (ëª¨ë°”ì¼ í¸ì˜)
      setTimeout(()=>{ resultOutput.scrollIntoView({behavior:'smooth', block:'center'}); }, 120);
    }

    // ìœ„í—˜ë„ ê¸°ë°˜ ë©”ì‹œì§€
    function getDangerNoteHTML(C0){
      // C0ì€ % ë‹¨ìœ„ (ì˜ˆ: 0.08%)
      // í”íˆ ë²•ì ìœ¼ë¡œëŠ” 0.05~0.08% ë“±ì´ ì£¼ëª©ë˜ë¯€ë¡œ ê°„ë‹¨ ì•ˆë‚´ ì œê³µ
      const c = C0;
      let note = '';
      if(c >= 0.08){
        note = `<div style="background:#FFF7F6;border-left:6px solid ${'#E74C3C'};padding:10px;border-radius:8px;color:#7A2B2B;font-weight:600">
                  í˜ˆì¤‘ ì•Œì½”ì˜¬ ë†ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ì ˆëŒ€ ìš´ì „í•˜ê±°ë‚˜ ìœ„í—˜í•œ ê¸°ê³„ ì¡°ì‘ì„ í•˜ì§€ ë§ˆì„¸ìš”.
                </div>`;
      } else if(c >= 0.05){
        note = `<div style="background:#FFF9F3;border-left:6px solid ${'#E69500'};padding:10px;border-radius:8px;color:#7A4A12;font-weight:600">
                  ì£¼ì˜: í˜ˆì¤‘ ì•Œì½”ì˜¬ ë†ë„ê°€ ì¤‘ê°„ ìˆ˜ì¤€ì…ë‹ˆë‹¤. ì¶©ë¶„í•œ íœ´ì‹ê³¼ ìˆ˜ë¶„ ì„­ì·¨ê°€ í•„ìš”í•©ë‹ˆë‹¤.
                </div>`;
      } else {
        note = `<div style="background:#F5FFFA;border-left:6px solid ${'#27AE60'};padding:10px;border-radius:8px;color:#115B41;font-weight:600">
                  ì €ìˆ˜ì¤€: íšŒë³µê¹Œì§€ ì‹œê°„ì´ í•„ìš”í•  ìˆ˜ ìˆìœ¼ë‹ˆ ë¬´ë¦¬í•˜ì§€ ë§ˆì„¸ìš”.
                </div>`;
      }
      return note;
    }

    // ìœ íš¨ì„± ì˜¤ë¥˜ ì•Œë¦¼
    function showError(msg){
      resultInitial.style.display = 'none';
      resultOutput.style.display = 'block';
      resultOutput.innerHTML = `
        <div class="section-title">âš ï¸ ì…ë ¥ ì˜¤ë¥˜</div>
        <div style="color:${'#A83A3A'};font-weight:700">${msg}</div>
      `;
    }

    function showSmallResult(msg){
      resultInitial.style.display = 'none';
      resultOutput.style.display = 'block';
      resultOutput.innerHTML = `
        <div class="section-title">âœ… ê²°ê³¼</div>
        <div style="color:#2D6F32;font-weight:700">${msg}</div>
      `;
    }

    /***********************
     * ì´ˆê¸° ë‹¨ìœ„ ì…‹ì—… (í˜ì´ì§€ ë¡œë“œì‹œ)
     ***********************/
    // ê¸°ë³¸ ë‹¨ìœ„ ì±„ìš°ê¸° (ì´ˆê¸°í™”ì— ì‚¬ìš©)
    function fillInitialUnits(){
      const defaultDrink = 'soju';
      updateUI(defaultDrink);
    }

    // re-export updateUI for DOMContentLoaded usage
    function updateUI(selectedDrink){
      const info = DRINK_DATA[selectedDrink] || DRINK_DATA.custom;

      // do not override if user already manually edited the alcohol field and selected custom? keep simple: auto-fill except when custom selected
      if(selectedDrink === 'custom'){
        alcoholContentInput.value = '';
        alcoholContentInput.placeholder = 'ë„ìˆ˜ë¥¼ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 12.5)';
      } else {
        // only set if empty or different (to avoid clobbering manual edits)
        if(!alcoholContentInput.value || alcoholContentInput.value === '' || Number(alcoholContentInput.value) === 0){
          alcoholContentInput.value = info.degree;
        } else {
          // if user previously had value, we keep it â€” but if the value is default different, still update for clarity
          alcoholContentInput.value = info.degree;
        }
      }

      // ë‹¨ìœ„ ì˜µì…˜
      unitTypeSelect.innerHTML = '';
      Object.keys(info.units).forEach(u => {
        const o = document.createElement('option');
        o.value = u;
        o.textContent = u;
        unitTypeSelect.appendChild(o);
      });

      updateUnitPlaceholder();
      updateConvertedVolume();
    }

    // ìµœì´ˆ ì‹¤í–‰
    // fillInitialUnits(); // not needed, initUI calls updateUI('soju') already
  </script>
</body>
</html>